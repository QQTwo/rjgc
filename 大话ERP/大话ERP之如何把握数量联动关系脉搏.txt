大话ERP之如何把握数量联动关系脉搏

    今年很多人问我ERP系统中的数量联动关系是如何实现的。以前因为工作忙的关系，都没有时间好好的作个总结。现在靠近年关了，手头项目也都快接近尾声了，可以抽出时间，对这一块这一个比较细致的总结。希望能够抛砖引玉，给大家一点借鉴作用。

    在讲数量之间的联动关系之前，我们有必要了解一下ERP中跟数量有关的一些专业名词。了解这些内容，就了解了ERP数量联动模型的一个基本框架，这对于，我们以后在实务中应用是非常有帮助的。

    如有客户问我，我跑生产计划的时候，产品的库存数量有100套，现在客户需要500套，我跑计划的时候应该出来400套呀，为何只出来350套。我让他回去查查，看看还有没有客户下过这个产品的订单。还有客户问我，按照生产订单的生产量，我明明需要材料5000千克，为什么ERP给我运算出来的结果是300千克呢，即使扣除库存的100千克，也需要 400千克，而不是300千克呢。我就让他去查一下，有没有下了采购单但是还没有入库的情况。

    这些问题是企业在使用ERP中、特别是以前只按毛需求考虑物料需求计划的企业，经常会遇到的问题。要解开这些问题的疑惑，我们就有必要知道ERP数量运算的内部逻辑。只有把握住了ERP数量运算的脉搏，我们就能不变应万变。不过，要了解其内部的数据运作的来龙去脉，万丈高楼从平地起，我们就要从基本概念看起。

    首先，我们来看一下，参与ERP数量运算的几大量。

    一、现存量。

    现存量比较好理解，即仓库中现有产品，包括成品、半成品、原材料等的库存数量。现存量表示一个已经拥有产品的数量，即在仓库帐上的数量。

    但是，要注意一点。现存量不能直接作为物料运算的基础。

    如在接单生产企业中，10天以前接到一张销售订单，需要用到某个材料1000千克，由于包装等方面限制的原因，企业已经采购入库该材料1500千克，但是还没开始生产，此时，这个材料的现存量就为1500千克；此时，若又接到一张订单，需要用到这种原材料1000千克。那我们考虑物料需求时，当然不能因为库存还有1500千克，就认为该材料已经够数，而不去采购。实际上，这种材料还少500千克。若我们因为库存的现存量有1500千克，而没有考虑其中的1000千克，已经被其他订单预定的话，那是要出大问题的，会影响生产计划。而这真是手工管理的一个致命的漏洞，因为，在原材料多的情况下，仓库管理人员已经记不清哪些材料已经被预定了。

    同时，现存量也没有考虑到在途量（包括已经采购还没入库或者已经生产但是还没有完工的数量）。如某个企业为库存式生产企业，A产品企业库存有100个，生产线上有500个。此时，企业下了300个A产品的订单。若此时，只考虑现存量，则可能认为还要生产200个才可以；而其实呢，因为生产线上还有500个没下线呢，其若生产完工，就可以满足客户需求了。

    所以，从以上我们可以看出，现存量在ERP中还是在实际生产管理中，是不能直接作为物料计算的基础，我们要对他进行调整。而这正是ERP管理物料比手工管理物料的一个跳跃。
现在大部分企业都是以现存量作为物料需求计划的基础，所以，很多企业的库存都居高不下；而据调查采用ERP系统后，企业库存就会下降50%-60%，这个数据也就不以为奇了。

    二、在途量。

    在途量，顾名思义，就是企业已经下了订单，但是还没有入库的一些材料或者产品。

    如企业在1月10日下了一张采购单，采购某种材料 100千克，交货日期为1月30日。在1月15日时，这种材料的在途量就为100千克；但是若到材料交货以后，在途量就变为0了。简而言之，采购件的在途量就是已经下了采购单但是还没有入库的数量。成品的在途量是指已经下了生产订单但是还没有完工入库的数量。

    在考虑在途量的时候，也要注意一个情况。就是已经请购但是还没有下采购单的数量或者已经有了生产计划但是还没有生产订单的产品数量，都不在在途量的考虑范围之内。如生产部门因生产需要，请购某种材料 100千克，但是，采购部门还没有下采购单。这个请购而未采购的100千克，就不能计算入在途量中。

    所以，无论是接单生产、还是库存生产，都要把在途量考虑进去，否则，物料需求计算就是比较粗糙的了。

    三、预定量。

    预定量是指一些材料或者成品已经有户主了，不能挪作他用。就好像买飞机票时，可以打电话预约飞机票，但是，服务人员会告诉你，你必须在1天内来付清款项，在这个期限内，会给你保留机票，若超过这个时间，对不起，就不会给你保留了，服务人员有权卖给别人。这就是预定量的含义。

    就ERP来说，预定量有如下情况。

    对于成品来说，一般是指已经下了订单的产品。如某个产品库存有100套，此时，某个客户下了订单，需要这个产品80套时，那企业这个产品的现存量100套中，80套即是预定量。也就是说，若有的订单下来时，考虑生产或者采购计划时，一般这80套产品是不能考虑在内的。因为已经由客人预定，不能再卖给其他客户。除非，在有效期内，客户没有来提货或者付钱。

    对于原材料的预定量来说，是指那些已经有了生产订单但是还没有开工生产、即还没有领料的数量。如某仓库中有某种原材料100千克，在途量300千克，而企业现在一共有两张生产订单需要这种材料，总计为 150千克；另外，有一张销售订单，也需要这种材料100千克，可是，这张销售订单还没有下给生产部门。则此时在途量加上现存量共400千克，被预订了 150千克。也就是说，虽然已经有了销售订单，但是，只要还没有转换成生产订单，就不是预定量的考虑范围之内。

    四、库存可用量。

    库存可用量，就是指库存中实际可以领用材料的数量或者可以出售的数量。用数量关系表示，库存可用量=现存量-预定量。

    如某个成品，企业库存有100套，客户已下订单60套，则库存可用量为40套。也就是说，在正常情况下，企业还可以接受40套产品的订单。若超过的话，要重新安排生产。

    如某种原材料，企业库存有300千克，而已下的生产订单为未领料的数量为160千克，则库存可用量为140千克。
    
    也就是说，企业若有新的订单需要这个材料时，要在140千克的数量上进行考虑。

    但是，库存可用量是不是我们做物料需求时需要请购的数量呢？还不是。因为他还没有考虑在途量。也就是说，若按库存可用量来进行物料请购，在有在途量的情况下，要比实际的需要量要多，会造成企业过多的库存。

    五、实际可用量。

    实际可用量在库存可用量的基础上，进一步考虑了在途量的影响因素。

    如企业现在库存有自行车100 辆，生产线上还有50辆在生产，本月可以完工入库。但是，在上个月，客户已经下订单需要该自行车80辆。此时，若有客户询问，需要100辆自行车，我企业什么时候可以交货时，企业就要考虑，实际可以出售的自行车还有多少，这就是实际可用量，其等于库存数量+在途量-预定量=100+50-80=70辆。

    原材料也是类似，这里就不做过多阐述了。

    实际可用量才是我们作物料需求计划的基础。但是，在手工操作的时候，不可能每下一张采购订单或者生产订单，就是考虑这么多的数据，这些运算虽然简单，但是，运算量非常的大，特别是到企业订单多、产品复杂的时候，要如此去计算物料需求，是一件不可能完成的任务。不过，有了ERP就不一样，通过物料需求计划，这一大堆的计算，系统都可以帮你完成，不需要手工去按计算器了。

    不过，作为物料计划员还是要知道其内在的这些关系，只有清楚了ERP物料需求计算的逻辑，当遇到对ERP的计算结果有怀疑时，才能够进行分析，才能排错。

    但是，用户不要高兴的太早，以为会计算实际可用量了，就会做生产计划或者采购计划了，还差的远，实际可用量只是一个起步。在实际采购时，往往还需要考虑其他的因素。如包装批量、最小采购量、经济批量、安全库存量等因素的影响；有时候要考虑净需求与毛需求，等等。

    在下篇文章中，我还会继续给大家讲ERP数量的一些高级运算，大家若比较感兴趣的话，就请关注我的下一篇著作，不会让大家等太久的。